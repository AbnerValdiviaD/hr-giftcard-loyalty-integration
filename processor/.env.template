# ============================================================================
# Harry Rosen Gift Card Connector - Environment Configuration
# ============================================================================
#
# Copy this file to .env and fill in your actual values.
#
#  IMPORTANT: Local vs Deployed Configuration
# ============================================================================
# LOCAL DEVELOPMENT:  Uses values from .env file (this template)
# DEPLOYED:           Uses values from connect.yaml (production defaults)
# ============================================================================

# ----------------------------------------------------------------------------
# commercetools Configuration
# ----------------------------------------------------------------------------

CTP_AUTH_URL=https://auth.us-central1.gcp.commercetools.com
CTP_API_URL=https://api.us-central1.gcp.commercetools.com
CTP_SESSION_URL=https://session.us-central1.gcp.commercetools.com
CTP_CLIENT_ID=[your-client-id]
CTP_CLIENT_SECRET=[your-client-secret]
CTP_PROJECT_KEY=[your-project-key]

# ----------------------------------------------------------------------------
# JWT Configuration
# ----------------------------------------------------------------------------
# For LOCAL development: Use localhost mock JWT server
#   CTP_JWKS_URL=http://localhost:9000/jwt/.well-known/jwks.json
#
# For DEPLOYED (automatic from connect.yaml):
#   CTP_JWKS_URL=https://mc-api.us-central1.gcp.commercetools.com/.well-known/jwks.json
# ----------------------------------------------------------------------------

# Local development (mock JWT server via docker compose)
CTP_JWKS_URL=http://localhost:9000/jwt/.well-known/jwks.json
CTP_JWT_ISSUER=https://mc-api.us-central1.gcp.commercetools.com

# Uncomment for production testing (requires real Merchant Center access):
# CTP_JWKS_URL=https://mc-api.us-central1.gcp.commercetools.com/.well-known/jwks.json
# CTP_JWT_ISSUER=https://mc-api.us-central1.gcp.commercetools.com

# ----------------------------------------------------------------------------
# Harry Rosen Gift Card API
# ----------------------------------------------------------------------------
# Harry Rosen uses different servers for different operations:
# - Status (health check) & Balance: ckinttest.harryrosen.com:5010
# - Transactions (redeem/refund): crmapptest.harryrosen.com:8000

# Balance API URL
HARRYROSEN_BALANCE_URL=https://ckinttest.harryrosen.com:5010

# Transaction API URL (redeem, refund)
HARRYROSEN_TRANSACTION_URL=https://crmapptest.harryrosen.com:8000

# API Credentials
# - Balance endpoint uses basic auth (username/password)
# - Transaction endpoints use Bearer token (API key)
HARRYROSEN_USER=[your-username]
HARRYROSEN_PASSWORD=[your-password]
HARRYROSEN_GIFTCARD_API_KEY=[your-api-key]

# ----------------------------------------------------------------------------
# Connector Settings
# ----------------------------------------------------------------------------

# Currency Code (CAD, USD, EUR, etc.)
MOCK_CONNECTOR_CURRENCY=CAD

# ----------------------------------------------------------------------------
# Encryption Configuration
# ----------------------------------------------------------------------------
# AES-256 encryption key for securing gift card PINs (32 bytes = 64 hex characters)
# Generate a new key with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# IMPORTANT: Keep this key secret and use different keys for dev/staging/production
ENCRYPTION_KEY=[your-64-character-hex-key-here]

# ----------------------------------------------------------------------------
# Optional Settings
# ----------------------------------------------------------------------------

# Log level: debug | info | warn | error
LOGGER_LEVEL=info

# Health check timeout (milliseconds)
HEALTH_CHECK_TIMEOUT=5000
